# =============================================================================
# LLM Teaching Assistant v2 - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED
# =============================================================================

# OpenAI API Key (get from https://platform.openai.com)
OPENAI_API_KEY=sk-your-key-here

# =============================================================================
# RELEVANCE THRESHOLDS (NEW in v2)
# =============================================================================

# Score above this = high relevance, use directly
HIGH_RELEVANCE_THRESHOLD=0.50

# Score above this = medium relevance, use but try to improve  
MEDIUM_RELEVANCE_THRESHOLD=0.35

# Score below this = irrelevant
LOW_RELEVANCE_THRESHOLD=0.20

# =============================================================================
# DYNAMIC PAPER FETCHING (NEW in v2)
# =============================================================================

# Enable fetching new papers when no good match found
DYNAMIC_FETCH_ENABLED=true

# Max papers to fetch per query from Semantic Scholar
MAX_PAPERS_PER_FETCH=10

# Max Semantic Scholar API calls per day (cost control)
MAX_DAILY_FETCHES=100

# Optional: Semantic Scholar API key (for higher rate limits)
# Get from: https://www.semanticscholar.org/product/api
SEMANTIC_SCHOLAR_API_KEY=

# =============================================================================
# PINECONE (OPTIONAL - for production)
# =============================================================================

# Use Pinecone instead of FAISS (for persistent dynamic updates)
USE_PINECONE=false

# Pinecone settings (required if USE_PINECONE=true)
# Get from https://www.pinecone.io/
PINECONE_API_KEY=
PINECONE_INDEX_NAME=llm-teaching-assistant
PINECONE_ENVIRONMENT=us-east-1

# =============================================================================
# API Settings
# =============================================================================

API_HOST=0.0.0.0
API_PORT=8000
DEBUG=false

# =============================================================================
# Model Settings
# =============================================================================

EMBEDDING_MODEL=text-embedding-3-small
CHAT_MODEL=gpt-4o
LESSON_MODEL=gpt-4o-mini

# =============================================================================
# GROBID (PDF Parsing)
# =============================================================================

GROBID_URL=https://kermitt2-grobid.hf.space
GROBID_TIMEOUT=120
USE_GROBID=true

# =============================================================================
# Cache Settings
# =============================================================================

CACHE_ENABLED=true
CACHE_TTL=86400

# =============================================================================
# Logging
# =============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=text
